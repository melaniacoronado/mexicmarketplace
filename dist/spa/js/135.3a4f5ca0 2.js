"use strict";(self["webpackChunkmacodesgin"]=self["webpackChunkmacodesgin"]||[]).push([[135],{135:(e,a,t)=>{t.r(a),t.d(a,{default:()=>f});var l=t(3673);const s=(0,l._)("div",{class:"tools q-pb-xl"},[(0,l._)("div",{class:"titulo"},"Historial de pedidos")],-1);function i(e,a,t,i,n,r){const o=(0,l.up)("q-btn"),d=(0,l.up)("q-td"),c=(0,l.up)("q-icon"),p=(0,l.up)("q-input"),u=(0,l.up)("q-table"),g=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(g,{class:"q-gutter-lg"},{default:(0,l.w5)((()=>[s,(0,l.Wm)(u,{title:"Pedidos","no-data-label":"Sin pedidos para mostrar","no-results-label":"No se encontaron pedidos basados en tu búsqueda",columns:i.state.columnas,rows:i.state.filas,"row-key":"index","rows-per-page-label":"Elementos por página","pagination-label":i.getPaginationLabel,pagination:i.state.pagination,loading:i.state.loading,filter:i.state.filter,dense:e.$q.screen.lt.md},{"body-cell-acciones":(0,l.w5)((e=>[(0,l.Wm)(d,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{round:"",outline:"",dense:"",color:"amber",icon:"visibility",onClick:a=>this.$router.push("/detalle_pedido_cliente/"+e.row.ordenCompraID)},null,8,["onClick"])])),_:2},1032,["props"])])),"top-right":(0,l.w5)((()=>[(0,l.Wm)(p,{borderless:"",dense:"",debounce:"300",modelValue:i.state.filter,"onUpdate:modelValue":a[0]||(a[0]=e=>i.state.filter=e),placeholder:"Buscar"},{append:(0,l.w5)((()=>[(0,l.Wm)(c,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["columns","rows","pagination-label","pagination","loading","filter","dense"])])),_:1})}var n=t(1959),r=t(5474);const o={name:"PedidosCliente",setup(){document.title="Gestión de pedidos";let e=[{value:0,label:"Procesada"},{value:1,label:"Fabricada"},{value:2,label:"Enviada"},{value:3,label:"Entregada"}];const a=(0,n.qj)({columnas:[{name:"index",label:"#",align:"center",field:e=>e.index,sortable:!1,classes:"bg-grey-2 ellipsis",style:"max-width: 30px",headerClasses:"bg-primary text-white",headerStyle:"max-width: 30px"},{name:"fechaPedido",label:"F. de Pedido",align:"center",field:e=>s(e.fechaProcesada),sortable:!1,classes:"bg-grey-2 ellipsis",style:"max-width: 30px",headerClasses:"bg-primary text-white",headerStyle:"max-width: 30px"},{name:"estatus",label:"Estatus",align:"center",field:a=>e[a.procesada+a.fabricada+a.enviada+a.entregada-1].label,sortable:!1,classes:"bg-grey-2 ellipsis",style:"max-width: 30px",headerClasses:"bg-primary text-white",headerStyle:"max-width: 30px"},{name:"monto",label:"Monto",align:"center",field:e=>t(e.total),sortable:!1,classes:"bg-grey-2 ellipsis",style:"max-width: 30px",headerClasses:"bg-primary text-white",headerStyle:"max-width: 30px"},{name:"acciones",label:"Detalle",align:"center",field:"acciones",sortable:!1,classes:"bg-grey-2 ellipsis",style:"max-width: 30px",headerClasses:"bg-primary text-white",headerStyle:"max-width: 30px"}],filas:[],loading:!1,filter:"",pagination:{rowsPerPage:8}});function t(e){return new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:2}).format(e)}function s(e){if(null==e)return null;let a=new Date(e),t=a.getDate(),l=a.getFullYear(),s=a.getMonth()+1;return t<10&&(t="0"+t),s<10&&(s="0"+s),t+"-"+s+"-"+l}function i(e,a,t){return e+"-"+a+" de "+t}return(0,l.bv)((async()=>{let e=localStorage.getItem("clienteID"),t=0;await r.api.get(`OrdenCompra/Cliente/${e}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>a.filas=e.data.payload.map((e=>(e.index=++t,e)))))})),{state:a,getPaginationLabel:i,formatter:t}}};var d=t(4260),c=t(4379),p=t(8107),u=t(3884),g=t(8240),m=t(4842),b=t(4554),h=t(7518),w=t.n(h);const x=(0,d.Z)(o,[["render",i]]),f=x;w()(o,"components",{QPage:c.Z,QTable:p.Z,QTd:u.Z,QBtn:g.Z,QInput:m.Z,QIcon:b.Z})}}]);