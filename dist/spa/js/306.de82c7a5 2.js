"use strict";(self["webpackChunkmacodesgin"]=self["webpackChunkmacodesgin"]||[]).push([[306],{5306:(e,l,a)=>{a.r(l),a.d(l,{default:()=>S});a(71);var o=a(3673),t=a(8880);const d=e=>((0,o.dD)("data-v-fc1be130"),e=e(),(0,o.Cn)(),e),n={class:"tools q-pb-xl"},i={class:"header"},s=d((()=>(0,o._)("div",{class:"titulo"},"Mi dirección de envío",-1))),c={class:"q-pa-xl"},r={class:"content"},u={class:"q-pb-md"},m={class:"q-pb-md"},p={class:"q-pb-md"},g={class:"q-pb-md"},b={class:"fit row justify-center q-pt-sm"};function h(e,l,a,d,h,v){const f=(0,o.up)("q-btn"),y=(0,o.up)("q-input"),V=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(V,null,{default:(0,o.w5)((()=>[(0,o._)("div",n,[(0,o._)("div",i,[s,(0,o.Wm)(f,{flat:"",label:"Regresar",color:"primary",onClick:l[0]||(l[0]=e=>this.$router.push("/"))})])]),(0,o._)("div",c,[(0,o._)("form",{class:"form-holder",onSubmit:l[11]||(l[11]=(0,t.iM)(((...e)=>d.onSubmit&&d.onSubmit(...e)),["prevent"]))},[(0,o._)("div",r,[(0,o._)("div",u,[(0,o.Wm)(y,{disable:"",filled:"",type:"text",modelValue:d.state.nombre,"onUpdate:modelValue":l[1]||(l[1]=e=>d.state.nombre=e),label:"Nombre"},null,8,["modelValue"])]),(0,o._)("div",m,[(0,o.Wm)(y,{disable:"",filled:"",type:"text",modelValue:d.state.apellidos,"onUpdate:modelValue":l[2]||(l[2]=e=>d.state.apellidos=e),label:"Apellidos"},null,8,["modelValue"])]),(0,o._)("div",p,[(0,o.Wm)(y,{disable:"",filled:"",type:"email",modelValue:d.state.correo,"onUpdate:modelValue":l[3]||(l[3]=e=>d.state.correo=e),label:"Correo"},null,8,["modelValue"])]),(0,o._)("div",g,[(0,o.Wm)(y,{disable:"",filled:"",type:"text",mask:"phone",modelValue:d.state.telefono,"onUpdate:modelValue":l[4]||(l[4]=e=>d.state.telefono=e),label:"Teléfono"},null,8,["modelValue"])]),(0,o._)("div",null,[(0,o.Wm)(y,{disable:d.state.disable,filled:"",type:"text",modelValue:d.state.calle,"onUpdate:modelValue":l[5]||(l[5]=e=>d.state.calle=e),label:"Calle",maxlength:"50","lazy-rules":"",rules:[e=>e&&e.length>0||"Este campo no puede estar vacío",e=>e&&e.length<50||"El nombre debe tener menos de 50 caracteres"]},null,8,["disable","modelValue","rules"])]),(0,o._)("div",null,[(0,o.Wm)(y,{disable:d.state.disable,filled:"",type:"text",modelValue:d.state.numero,"onUpdate:modelValue":l[6]||(l[6]=e=>d.state.numero=e),label:"Número",maxlength:"5",mask:"#####","lazy-rules":"",rules:[e=>e&&e.length>0||"Este campo no puede estar vacío",e=>e&&e.length<6||"El nombre debe tener menos de 6 caracteres"]},null,8,["disable","modelValue","rules"])]),(0,o._)("div",null,[(0,o.Wm)(y,{disable:d.state.disable,filled:"",type:"text",modelValue:d.state.colonia,"onUpdate:modelValue":l[7]||(l[7]=e=>d.state.colonia=e),label:"Colonia",maxlength:"50","lazy-rules":"",rules:[e=>e&&e.length>0||"Este campo no puede estar vacío",e=>e&&e.length<50||"El nombre debe tener menos de 50 caracteres"]},null,8,["disable","modelValue","rules"])]),(0,o._)("div",null,[(0,o.Wm)(y,{disable:d.state.disable,filled:"",type:"text",modelValue:d.state.ciudad,"onUpdate:modelValue":l[8]||(l[8]=e=>d.state.ciudad=e),label:"Ciudad",maxlength:"50","lazy-rules":"",rules:[e=>e&&e.length>0||"Este campo no puede estar vacío",e=>e&&e.length<50||"El nombre debe tener menos de 50 caracteres"]},null,8,["disable","modelValue","rules"])]),(0,o._)("div",null,[(0,o.Wm)(y,{disable:d.state.disable,filled:"",type:"text",modelValue:d.state.estado,"onUpdate:modelValue":l[9]||(l[9]=e=>d.state.estado=e),label:"Estado",maxlength:"50","lazy-rules":"",rules:[e=>e&&e.length>0||"Este campo no puede estar vacío",e=>e&&e.length<50||"El nombre debe tener menos de 50 caracteres"]},null,8,["disable","modelValue","rules"])]),(0,o._)("div",null,[(0,o.Wm)(y,{disable:d.state.disable,filled:"",type:"text",modelValue:d.state.codigoPostal,"onUpdate:modelValue":l[10]||(l[10]=e=>d.state.codigoPostal=e),label:"Código postal",maxlength:"5",mask:"#####","lazy-rules":"",rules:[e=>e&&e.length>0||"Este campo no puede estar vacío",e=>e&&5==e.length||"El código postal debe tener 5 caracteres"]},null,8,["disable","modelValue","rules"])])]),(0,o._)("div",b,[(0,o._)("div",null,[(0,o.Wm)(f,{color:"primary",type:"submit",label:"Guardar"})])])],32)])])),_:1})}var v=a(1959),f=a(5474),y=a(8825);const V={name:"DireccionEnvio",setup(e,l){const a=(0,y.Z)(),t=(0,v.qj)({nombre:localStorage.getItem("nombreCliente"),apellidos:localStorage.getItem("apellidosCliente"),correo:localStorage.getItem("emailCliente"),telefono:localStorage.getItem("telefonoCliente"),calle:"",numero:"",colonia:"",ciudad:"",estado:"",codigoPostal:"",modificacion:!1,direccionID:null});function d(){if(""!=t.calle&&""!=t.numero&&""!=t.colonia&&""!=t.ciudad&&""!=t.estado&&""!=t.codigoPostal)if(5==t.codigoPostal.length){var e=parseInt(localStorage.getItem("clienteID"));t.modificacion?f.api.post("/Checkout/Direccion",{direccionId:t.direccionID,calle:t.calle,numero:t.numero,colonia:t.colonia,ciudad:t.ciudad,estado:t.estado,codigoPostal:t.codigoPostal,clienteId:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{a.notify({message:"Dirección actualizada exitosamente.",color:"positive",icon:"check"})})).catch((e=>{a.notify({message:"Error al guardar la dirección. Inténtalo de nuevo.",color:"negative",icon:"error"})})):f.api.post("/Checkout/Direccion",{direccionId:0,calle:t.calle,numero:t.numero,colonia:t.colonia,ciudad:t.ciudad,estado:t.estado,codigoPostal:t.codigoPostal,clienteId:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{a.notify({message:"Dirección guardada exitosamente.",color:"positive",icon:"check"})})).catch((e=>{a.notify({message:"Error al guardar la dirección. Inténtalo de nuevo.",color:"negative",icon:"error"})}))}else a.notify({color:"red-5",textColor:"white",icon:"warning",message:"Corrige los campos en rojo."});else a.notify({color:"red-5",textColor:"white",icon:"warning",message:"Por favor, llena todos los campos."})}return(0,o.bv)((async()=>{var e=await f.api.get("/Checkout/Direccion/Cliente/"+localStorage.getItem("clienteID"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});null!=e&&(t.modificacion=!0,t.direccionID=e.data.payload.direccionId,t.calle=e.data.payload.calle,t.numero=e.data.payload.numero,t.colonia=e.data.payload.colonia,t.ciudad=e.data.payload.ciudad,t.estado=e.data.payload.estado,t.codigoPostal=e.data.payload.codigoPostal)})),{state:t,onSubmit:d}}};var I=a(4260),x=a(4379),_=a(8240),C=a(4842),k=a(7518),E=a.n(k);const P=(0,I.Z)(V,[["render",h],["__scopeId","data-v-fc1be130"]]),S=P;E()(V,"components",{QPage:x.Z,QBtn:_.Z,QInput:C.Z})}}]);