(self["webpackChunkmacodesgin"]=self["webpackChunkmacodesgin"]||[]).push([[825],{6825:(a,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>Y});var r=o(3673),i=o(2323),l=o(8880);const t=a=>((0,r.dD)("data-v-ba6adebc"),a=a(),(0,r.Cn)(),a),c={id:"personalizacion-maceta"},n={class:"tools q-pb-xl"},s={class:"header"},m=t((()=>(0,r._)("div",{class:"titulo"},"Personalización de producto",-1))),d={class:"holder row items-center"},p={class:"cotizado q-mr-md"},g=t((()=>(0,r._)("span",{class:"text-bold"},"Precio: ",-1))),u={class:"nav q-mt-sm"},b={class:"content"},C={class:"img-holder"},f=["src"],M={class:"opciones"},v={class:"materiales sub-opciones"},_=["onClick"],w={class:"formas sub-opciones"},I=["onClick"],D={class:"colores sub-opciones"},F=["onClick"],j={class:"medidas sub-opciones"},y=["onClick"];function k(a,e,o,t,k,h){const x=(0,r.up)("q-btn"),R=(0,r.up)("HistorialMacetas"),z=(0,r.up)("q-page");return(0,r.wg)(),(0,r.j4)(z,null,{default:(0,r.w5)((()=>[(0,r._)("div",c,[(0,r._)("div",n,[(0,r._)("div",s,[m,(0,r._)("div",d,[(0,r.wy)((0,r._)("div",p,[g,(0,r.Uk)((0,i.zw)(a.formatter(a.state.precioTotal)),1)],512),[[l.F8,!a.estatusCompleto()||a.state.precioCargado]]),(0,r.Wm)(x,{label:"Agregar a carrito",color:"primary",disable:a.estatusCompleto(),onClick:e[0]||(e[0]=e=>a.agregarACarrito())},null,8,["disable"])])])]),(0,r.Wm)(R,{onEditar:a.selectMaceta},null,8,["onEditar"]),(0,r._)("ul",u,[(0,r._)("li",{id:"material",class:"link activo",onClick:e[1]||(e[1]=e=>a.changeView("material"))},"Material"),(0,r._)("li",{id:"forma",class:"link",onClick:e[2]||(e[2]=e=>a.changeView("forma"))},"Forma"),(0,r._)("li",{id:"color",class:"link",onClick:e[3]||(e[3]=e=>a.changeView("color"))},"Color"),(0,r._)("li",{id:"medida",class:"link",onClick:e[4]||(e[4]=e=>a.changeView("medida"))},"Tamaño")]),(0,r._)("div",b,[(0,r._)("div",C,[(0,r._)("img",{src:a.obtenerImagenUrl(),alt:"imagen maceta base"},null,8,f)]),(0,r._)("div",M,[(0,r.wy)((0,r._)("div",v,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.state.materiales,((e,o)=>((0,r.wg)(),(0,r.iD)("div",{class:"material-op opcion",key:o,onClick:e=>a.selectOption(o)},(0,i.zw)(e.nombreMaterial),9,_)))),128))],512),[[l.F8,"material"==a.state.view]]),(0,r.wy)((0,r._)("div",w,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.state.formas,((e,o)=>((0,r.wg)(),(0,r.iD)("div",{class:"forma-op opcion",key:o,onClick:e=>a.selectOption(o)},(0,i.zw)(e.nombreForma),9,I)))),128))],512),[[l.F8,"forma"==a.state.view]]),(0,r.wy)((0,r._)("div",D,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.state.colores,((e,o)=>((0,r.wg)(),(0,r.iD)("div",{class:"color-op opcion",key:o,onClick:e=>a.selectOption(o)},[(0,r._)("span",null,(0,i.zw)(e.nombreColor),1),(0,r._)("div",{class:"circulo",style:(0,i.j5)(`background-color: #${e.codigoColor};`)},null,4)],8,F)))),128))],512),[[l.F8,"color"==a.state.view]]),(0,r.wy)((0,r._)("div",j,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.state.medidas,((e,o)=>((0,r.wg)(),(0,r.iD)("div",{class:"medida-op opcion",key:o,onClick:e=>a.selectOption(o)},(0,i.zw)(e.nombreMedida),9,y)))),128))],512),[[l.F8,"medida"==a.state.view]])])])])])),_:1})}o(1598);var h=o(1959),x=o(5474),R=o(8825),z=o(9582),A=o(3617);const N={class:"wrapper-expansion"},q=["src"],B={class:"caracteristicas"},S={class:"btns"};function H(a,e,o,l,t,c){const n=(0,r.up)("q-btn"),s=(0,r.up)("q-card-section"),m=(0,r.up)("q-card"),d=(0,r.up)("q-expansion-item");return(0,r.wg)(),(0,r.j4)(d,{class:"q-mt-sm text-primary macetas-cliente",icon:"yard",label:"Tus productos personalizados"},{default:(0,r.w5)((()=>[(0,r._)("div",N,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.state.macetas,((e,o)=>((0,r.wg)(),(0,r.j4)(m,{key:o,class:"maceta-cliente"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{class:"holder"},{default:(0,r.w5)((()=>[(0,r._)("img",{src:a.obtenerImagenUrl(e.material,e.color,e.forma),alt:"imagen maceta base"},null,8,q),(0,r._)("div",B,[(0,r._)("div",null,(0,i.zw)(e.material),1),(0,r._)("div",null,(0,i.zw)(e.forma),1),(0,r._)("div",null,(0,i.zw)(e.color),1),(0,r._)("div",null,(0,i.zw)(e.medida),1),(0,r._)("div",null,(0,i.zw)(a.formatter(e.precio)),1)]),(0,r._)("div",S,[(0,r.Wm)(n,{dense:"",outline:"",icon:"edit",color:"primary",onClick:a=>this.$emit("editar",e)},null,8,["onClick"]),(0,r.Wm)(n,{dense:"",outline:"",icon:"delete",color:"grey",onClick:o=>a.borrarMaceta(e.macetaID)},null,8,["onClick"])])])),_:2},1024)])),_:2},1024)))),128))])])),_:1})}const P=(0,r.aZ)({name:"MacetasPersonalizadas",setup(){const a=localStorage.getItem("clienteID"),e=(0,R.Z)(),i=(0,h.qj)({showBtms:!1,macetas:[]});function l(a){return new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:2}).format(a)}async function t(o){e.dialog({title:"Eliminar",message:"¿Está seguro que desea eliminar el producto?",ok:{push:!0,label:"Aceptar",color:"primary",flat:!0},cancel:{label:"Cancelar",color:"grey",flat:!0},persistent:!0}).onOk((async()=>{await x.api["delete"](`/Maceta/Personalizada/${a}/${o}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((()=>i.macetas=i.macetas.filter((a=>a.macetaID!=o)))).catch((a=>console.log(a)))}))}function c(a,e,r){return o("Fibra de vidrio"!=a||""!=r&&"Copa"!=r||""!=e&&"Blanco"!=e?"Fibra de vidrio"!=a||""!=r&&"Copa"!=r||""!=e&&"Amarillo"!=e?"Fibra de vidrio"!=a||""!=r&&"Copa"!=r||""!=e&&"Azul"!=e?"Fibra de vidrio"!=a||""!=r&&"Copa"!=r||""!=e&&"Gris"!=e?"Fibra de vidrio"!=a||""!=r&&"Copa"!=r||""!=e&&"Morado"!=e?"Fibra de vidrio"!=a||""!=r&&"Copa"!=r||""!=e&&"Naranja"!=e?"Fibra de vidrio"!=a||""!=r&&"Copa"!=r||""!=e&&"Negro"!=e?"Fibra de vidrio"!=a||""!=r&&"Copa"!=r||""!=e&&"Rojo"!=e?"Fibra de vidrio"!=a||""!=r&&"Copa"!=r||""!=e&&"Rosa"!=e?"Fibra de vidrio"!=a||""!=r&&"Copa"!=r||""!=e&&"Verde"!=e?"Fibra de vidrio"!=a||"Reloj"!=r||""!=e&&"Blanco"!=e?"Fibra de vidrio"!=a||"Reloj"!=r||""!=e&&"Amarillo"!=e?"Fibra de vidrio"!=a||"Reloj"!=r||""!=e&&"Azul"!=e?"Fibra de vidrio"!=a||"Reloj"!=r||""!=e&&"Gris"!=e?"Fibra de vidrio"!=a||"Reloj"!=r||""!=e&&"Morado"!=e?"Fibra de vidrio"!=a||"Reloj"!=r||""!=e&&"Naranja"!=e?"Fibra de vidrio"!=a||"Reloj"!=r||""!=e&&"Negro"!=e?"Fibra de vidrio"!=a||"Reloj"!=r||""!=e&&"Rojo"!=e?"Fibra de vidrio"!=a||"Reloj"!=r||""!=e&&"Rosa"!=e?"Fibra de vidrio"!=a||"Reloj"!=r||""!=e&&"Verde"!=e?"Mármol"!=a||""!=r&&"Cuadrangular"!=r||""!=e&&"Blanco"!=e?"Mármol"!=a||""!=r&&"Cuadrangular"!=r||""!=e&&"Negro"!=e?"Mármol"!=a||""!=r&&"Cuadrangular"!=r||""!=e&&"Gris"!=e?"Mármol"!=a||"Rectangular"!=r||""!=e&&"Blanco"!=e?"Mármol"!=a||"Rectangular"!=r||""!=e&&"Negro"!=e?"Mármol"!=a||"Rectangular"!=r||""!=e&&"Gris"!=e?"Mármol"!=a||"Cilíndrica"!=r||""!=e&&"Blanco"!=e?"Mármol"!=a||"Cilíndrica"!=r||""!=e&&"Negro"!=e?"Mármol"!=a||"Cilíndrica"!=r||""!=e&&"Gris"!=e?6243:4549:8454:2690:6037:8989:5181:7292:4282:2229:2432:6745:5251:1730:7794:4075:5411:6454:3039:868:5606:4900:8265:6512:5731:4830:8393:4206:5723:6243)}return(0,r.bv)((async()=>{null!=a&&await x.api.get(`/Maceta/Personalizada/${a}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((a=>i.macetas=a.data.payload))})),{state:i,formatter:l,borrarMaceta:t,obtenerImagenUrl:c}}});var E=o(4260),Z=o(429),L=o(151),G=o(5589),T=o(8240),V=o(7518),O=o.n(V);const Q=(0,E.Z)(P,[["render",H],["__scopeId","data-v-7c06b784"]]),$=Q;O()(P,"components",{QExpansionItem:Z.Z,QCard:L.Z,QCardSection:G.Z,QBtn:T.Z});const K=(0,r.aZ)({name:"PersonalizacionMaceta",components:{HistorialMacetas:$},setup(){document.title="Personalización de productos";const a=(0,R.Z)(),e=((0,z.tv)(),(0,A.oR)()),i=(0,h.qj)({view:"material",macetaDelHistorial:null,precioCargado:!1,color:-1,material:-1,forma:-1,medida:-1,colores:[],materiales:[],formas:[],medidas:[],copiaColores:[],copiaMateriales:[],copiaFormas:[],copiaMedidas:[],mt2:0,precioMt2:0,aumentoColor:0,aumentoForma:0,precioTotal:0});function l(){let a=i.materiales[i.material]?i.materiales[i.material].nombreMaterial:"",e=i.colores[i.color]?i.colores[i.color].nombreColor:"",r=i.formas[i.forma]?i.formas[i.forma].nombreForma:"";return o("Cerámica"!=a||""!=r&&"Copa"!=r||""!=e&&"Blanco"!=e?"Cerámica"!=a||""!=r&&"Copa"!=r||""!=e&&"Amarillo"!=e?"Cerámica"!=a||""!=r&&"Copa"!=r||""!=e&&"Azul"!=e?"Cerámica"!=a||""!=r&&"Copa"!=r||""!=e&&"Gris"!=e?"Cerámica"!=a||""!=r&&"Copa"!=r||""!=e&&"Morado"!=e?"Cerámica"!=a||""!=r&&"Copa"!=r||""!=e&&"Naranja"!=e?"Cerámica"!=a||""!=r&&"Copa"!=r||""!=e&&"Negro"!=e?"Cerámica"!=a||""!=r&&"Copa"!=r||""!=e&&"Rojo"!=e?"Cerámica"!=a||""!=r&&"Copa"!=r||""!=e&&"Rosa"!=e?"Cerámica"!=a||""!=r&&"Copa"!=r||""!=e&&"Verde"!=e?"Cerámica"!=a||"Reloj"!=r||""!=e&&"Blanco"!=e?"Cerámica"!=a||"Reloj"!=r||""!=e&&"Amarillo"!=e?"Cerámica"!=a||"Reloj"!=r||""!=e&&"Azul"!=e?"Cerámica"!=a||"Reloj"!=r||""!=e&&"Gris"!=e?"Cerámica"!=a||"Reloj"!=r||""!=e&&"Morado"!=e?"Cerámica"!=a||"Reloj"!=r||""!=e&&"Naranja"!=e?"Cerámica"!=a||"Reloj"!=r||""!=e&&"Negro"!=e?"Cerámica"!=a||"Reloj"!=r||""!=e&&"Rojo"!=e?"Cerámica"!=a||"Reloj"!=r||""!=e&&"Rosa"!=e?"Cerámica"!=a||"Reloj"!=r||""!=e&&"Verde"!=e?"Mármol"!=a||""!=r&&"Cuadrangular"!=r||""!=e&&"Blanco"!=e?"Mármol"!=a||""!=r&&"Cuadrangular"!=r||""!=e&&"Negro"!=e?"Mármol"!=a||""!=r&&"Cuadrangular"!=r||""!=e&&"Gris"!=e?"Mármol"!=a||"Rectangular"!=r||""!=e&&"Blanco"!=e?"Mármol"!=a||"Rectangular"!=r||""!=e&&"Negro"!=e?"Mármol"!=a||"Rectangular"!=r||""!=e&&"Gris"!=e?"Mármol"!=a||"Cilíndrica"!=r||""!=e&&"Blanco"!=e?"Mármol"!=a||"Cilíndrica"!=r||""!=e&&"Negro"!=e?"Mármol"!=a||"Cilíndrica"!=r||""!=e&&"Gris"!=e?6243:4549:8454:2690:6037:8989:5181:7292:4282:2229:2432:6745:5251:1730:7794:4075:5411:6454:3039:868:5606:4900:8265:6512:5731:4830:8393:4206:5723:6243)}function t(a){return new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:2}).format(a)}function c(a){i.view=a;const e=document.querySelectorAll(".link"),o=document.querySelector(`#${a}`);e.forEach((a=>a.classList.remove("activo"))),o.classList.add("activo")}function n(a,e){const o=document.querySelectorAll("."+a+"-op");o.forEach((a=>a.classList.remove("seleccionada"))),o[e].classList.add("seleccionada")}function s(a){const e=document.querySelectorAll("."+a+"-op");e.forEach((a=>a.classList.remove("seleccionada")))}function m(a){switch(n(i.view,a),i.view){case"material":i.material=a,i.precioMt2=i.materiales[a].precioMt2;const e=document.querySelectorAll(".forma-op");e.forEach((a=>a.classList.remove("disabled")));let o=[];o=1==i.material?i.copiaFormas.flatMap((a=>"Cuadrangular"==a.nombreForma||"Rectangular"==a.nombreForma||"Cilíndrica"==a.nombreForma?a.formaID-1:null)):i.copiaFormas.flatMap((a=>"Copa"==a.nombreForma||"Reloj"==a.nombreForma?a.formaID-1:null)),o.forEach((a=>null!=a?e[a].classList.add("disabled"):null)),s("forma"),s("color"),s("medida");break;case"forma":i.forma=a,i.aumentoForma=i.formas[a].aumentoPrecio;const r=document.querySelectorAll(".color-op");r.forEach((a=>a.classList.remove("disabled")));let l=[];0!=i.forma&&1!=i.forma&&2!=i.forma||(l=i.copiaColores.flatMap((a=>a.colorId>3?a.colorId-1:null))),l.forEach((a=>null!=a?r[a].classList.add("disabled"):null));const t=document.querySelectorAll(".medida-op");t.forEach((a=>a.classList.remove("disabled")));let c=[];switch(i.forma){case 0:c=i.copiaMedidas.flatMap((a=>a.medidaID>3?a.medidaID-1:null));break;case 1:c=i.copiaMedidas.flatMap((a=>[4,5,9].includes(a.medidaID)?null:a.medidaID-1));break;case 2:c=i.copiaMedidas.flatMap((a=>5!=a.medidaID?a.medidaID-1:null));break;case 3:c=i.copiaMedidas.flatMap((a=>[6,7,9].includes(a.medidaID)?null:a.medidaID-1));break;case 4:c=i.copiaMedidas.flatMap((a=>8!=a.medidaID?a.medidaID-1:null));break}c.forEach((a=>null!=a?t[a].classList.add("disabled"):null)),s("color");break;case"color":i.color=a,i.aumentoColor=i.colores[a].aumentoPrecio;break;case"medida":i.medida=a,i.mt2=i.medidas[a].mt2;break}i.precioTotal=4500,i.precioCargado=!1}function d(){return-1==i.material||-1==i.forma||-1==i.color||-1==i.medida||0==i.precioTotal}function p(a){i.macetaDelHistorial=a,i.color=i.colores.findIndex((a=>a.nombreColor==i.macetaDelHistorial.color)),i.forma=i.formas.findIndex((a=>a.nombreForma==i.macetaDelHistorial.forma)),i.material=i.materiales.findIndex((a=>a.nombreMaterial==i.macetaDelHistorial.material)),i.medida=i.medidas.findIndex((a=>a.nombreMedida==i.macetaDelHistorial.medida)),i.precioTotal=i.macetaDelHistorial.precio,n("color",i.color),n("forma",i.forma),n("material",i.material),n("medida",i.medida),i.precioCargado=!0}async function g(){if(!localStorage.getItem("clienteID"))return void a.notify({message:"Debes ingresar a tu cuenta para agregar al carrito",color:"primary"});let o={ClienteID:localStorage.getItem("clienteID"),NombreMaceta:"Maceta personalizada",MaterialID:i.materiales[i.material].materialId,ColorID:i.colores[i.color].colorId,FormaID:i.formas[i.forma].formaID,MedidaID:i.medidas[i.medida].medidaID,Precio:i.precioTotal},r=-1;null==i.macetaDelHistorial?await x.api.post("/Maceta/Personalizada",o,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((a=>r=a.data.payload.num)):(r=i.macetaDelHistorial.macetaID,i.macetaDelHistorial=null),-1!=r?await(0,x.api)({url:"/CarritoCompras/AgregarItem",method:"POST",data:{ClienteID:localStorage.getItem("clienteID"),MacetaID:r,Cantidad:1,Color:o.ColorID,Medida:o.MedidaID,Forma:o.FormaID,Personalizada:!0},headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((l=>{a.notify({message:"Se ha agregado al carrito de compras",color:"primary"}),e.commit("carritocompras/addItem",{cantidad:1,imagenMaceta:"-",itemCarritoCompraID:l.data.payload.num,macetaID:r,nombreColor:i.colores[i.color].nombreColor,nombreForma:i.formas[i.forma].nombreForma,nombreMaceta:o.NombreMaceta,nombreMaterial:i.materiales[i.material].nombreMaterial,nombreMedida:i.medidas[i.medida].nombreMedida,precio:o.Precio,personalizada:!0})})).catch((()=>{a.notify({message:"No se pudo agregar al carrito de compras",color:"negative"})})):a.notify({color:"red-6",textColor:"white",message:"Borra alguna maceta para poder agregar una nueva",position:"top",timeout:5e3})}return(0,r.bv)((async()=>{await x.api.get("/Color").then((a=>i.colores=i.copiaColores=a.data.payload)),await x.api.get("/Material").then((a=>i.materiales=i.copiaMateriales=a.data.payload.filter((a=>1==a.materialId||2==a.materialId)))),console.log(i.materiales),i.materiales[0].nombreMaterial=i.copiaMateriales[0].nombreMaterial="Mármol",i.materiales[1].nombreMaterial=i.copiaMateriales[1].nombreMaterial="Fibra de vidrio",console.log(i.materiales),await x.api.get("/Forma").then((a=>i.formas=i.copiaFormas=a.data.payload)),await x.api.get("/Medida").then((a=>i.medidas=i.copiaMedidas=a.data.payload))})),{state:i,formatter:t,changeView:c,selectOption:m,estatusCompleto:d,obtenerImagenUrl:l,agregarACarrito:g,selectMaceta:p}}});var U=o(4379);const W=(0,E.Z)(K,[["render",k],["__scopeId","data-v-ba6adebc"]]),Y=W;O()(K,"components",{QPage:U.Z,QBtn:T.Z})},2690:(a,e,o)=>{a.exports=o.p+"img/cilindro_blanco.d575725d.png"},4549:(a,e,o)=>{a.exports=o.p+"img/cilindro_gris.8ba7efca.png"},8454:(a,e,o)=>{a.exports=o.p+"img/cilindro_negro.6c24b771.png"},5723:(a,e,o)=>{a.exports=o.p+"img/copa_amarillo.79e0da1b.png"},4206:(a,e,o)=>{a.exports=o.p+"img/copa_azul.c5f74f68.png"},6243:(a,e,o)=>{a.exports=o.p+"img/copa_blanco.dd714257.png"},8393:(a,e,o)=>{a.exports=o.p+"img/copa_gris.097bc85b.png"},4830:(a,e,o)=>{a.exports=o.p+"img/copa_morado.2bbc9131.png"},5731:(a,e,o)=>{a.exports=o.p+"img/copa_naranja.4d018dc6.png"},6512:(a,e,o)=>{a.exports=o.p+"img/copa_negro.ac732562.png"},8265:(a,e,o)=>{a.exports=o.p+"img/copa_rojo.0327aeaa.png"},4900:(a,e,o)=>{a.exports=o.p+"img/copa_rosa.6d7b728c.png"},5606:(a,e,o)=>{a.exports=o.p+"img/copa_verde.1d8513e7.png"},2229:(a,e,o)=>{a.exports=o.p+"img/cuadrado_blanco.ed4d6f5e.png"},7292:(a,e,o)=>{a.exports=o.p+"img/cuadrado_gris.f53e9852.png"},4282:(a,e,o)=>{a.exports=o.p+"img/cuadrado_negro.0e5871fc.png"},5181:(a,e,o)=>{a.exports=o.p+"img/rectangulo_blanco.344846d3.png"},6037:(a,e,o)=>{a.exports=o.p+"img/rectangulo_gris.6a8b7c57.png"},8989:(a,e,o)=>{a.exports=o.p+"img/rectangulo_negro.5146d570.png"},3039:(a,e,o)=>{a.exports=o.p+"img/reloj_amarillo.bf893f51.png"},6454:(a,e,o)=>{a.exports=o.p+"img/reloj_azul.e19b8b18.png"},868:(a,e,o)=>{a.exports=o.p+"img/reloj_blanco.c34a0a1f.png"},5411:(a,e,o)=>{a.exports=o.p+"img/reloj_gris.ea912288.png"},4075:(a,e,o)=>{a.exports=o.p+"img/reloj_morado.84c5df7c.png"},7794:(a,e,o)=>{a.exports=o.p+"img/reloj_naranja.6c9e9137.png"},1730:(a,e,o)=>{a.exports=o.p+"img/reloj_negro.a020e810.png"},5251:(a,e,o)=>{a.exports=o.p+"img/reloj_rojo.71379da5.png"},6745:(a,e,o)=>{a.exports=o.p+"img/reloj_rosa.6897045f.png"},2432:(a,e,o)=>{a.exports=o.p+"img/reloj_verde.eaaa0343.png"}}]);